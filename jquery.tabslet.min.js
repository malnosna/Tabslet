(function($,window,undefined){"use strict";$.fn.tabslet=function(options){var defaults={mouseevent:"click",attribute:"href",animation:false,autorotate:false,pauseonhover:true,delay:2e3,active:1,controls:{prev:".prev",next:".next",lightbox:".lightbox"}};var options=$.extend(defaults,options);return this.each(function(){var $this=$(this);var elements=$this.find("> ul li"),i=options.active-1;if(!$this.data("tabslet-init")){$this.data("tabslet-init",true);options.mouseevent=$this.data("mouseevent")||options.mouseevent;options.attribute=$this.data("attribute")||options.attribute;options.animation=$this.data("animation")||options.animation;options.autorotate=$this.data("autorotate")||options.autorotate;options.pauseonhover=$this.data("pauseonhover")||options.pauseonhover;options.delay=$this.data("delay")||options.delay;options.active=$this.data("active")||options.active;$this.find("> div").hide();$this.find("> div").eq(options.active-1).show();$this.find("> ul li").eq(options.active-1).addClass("active");var fn=eval(function(){$(this).trigger("_before");$this.find("> ul li").removeClass("active");$(this).addClass("active");$this.find("> div").hide();i=elements.index($(this));var e=$(this).find("a").attr(options.attribute);if(options.animation){$this.find(e).animate({opacity:"show"},"slow",function(){$(this).trigger("_after")})}else{$this.find(e).show();$(this).trigger("_after")}return false});var init=eval("$this.find('> ul li')."+options.mouseevent+"(fn)");init;var pauseAutorotate=false;var currentTabNumber=options.active-1;var forward=function(){i=++i%elements.length;currentTabNumber=i;options.mouseevent=="hover"?elements.eq(i).trigger("mouseover"):elements.eq(i).click();var e=setTimeout(forward,options.delay);$this.mouseover(function(){if(options.pauseonhover)clearTimeout(e)})};if(options.autorotate){setTimeout(forward,options.delay);if(options.pauseonhover)$this.on("mouseleave",function(){if(!pauseAutorotate){setTimeout(forward,1e3)}});if(options.pauseonhover)$this.on("mouseover",function(){pauseAutorotate=false})}var move=function(e){if(e=="forward")i=++i%elements.length;if(e=="backward")i=--i%elements.length;elements.eq(i).click()};for(var j=0;j<elements.length;j++){if(options.mouseevent=="hover"){elements.eq(j).on("mouseover",function(){currentTabNumber=elements.index(this)})}else{elements.eq(j).click(function(){currentTabNumber=elements.index(this)})}}$this.find(options.controls.next).click(function(){move("forward")});$this.find(options.controls.prev).click(function(){move("backward")});$this.find(options.controls.lightbox).click(function(){pauseAutorotate=true});$this.on("destroy",function(){$(this).removeData()})}})};$(document).ready(function(){$('[data-toggle="tabslet"]').tabslet()})})(jQuery)
